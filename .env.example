# ─── Threshold Environment Variables ─────────────────────
# Copy to .env.local for local dev, or set in Railway Variables per deployment.
# Each campaign deployment gets its own set of these values.

# ─── Required ─────────────────────────────────────────────

# JWT secret for auth (generate with: openssl rand -base64 32)
JWT_SECRET=change-me-to-a-random-string-at-least-32-chars

# PostgreSQL connection string
# Railway auto-provides this via ${{Postgres.DATABASE_URL}}
DATABASE_URL=postgresql://user:password@localhost:5432/threshold

# ─── Campaign Identity ────────────────────────────────────

# Internal campaign identifier (used in database, not shown to users)
CAMPAIGN_ID=demo-2026

# Campaign display name (shown in headers, footers, emails)
NEXT_PUBLIC_CAMPAIGN_NAME=Threshold Demo

# Candidate's full name (used in conversation guidance)
NEXT_PUBLIC_CANDIDATE_NAME=Demo Candidate

# Two-letter state code (determines voter file and UI labels)
NEXT_PUBLIC_CAMPAIGN_STATE=NC

# Organization name (shown in footer)
NEXT_PUBLIC_ORGANIZATION_NAME=Threshold

# Election date (used in SMS templates)
ELECTION_DATE=2026-11-03

# ─── Admin Dashboard Goals ────────────────────────────────

# Target numbers shown on the admin dashboard progress bars
GOAL_CONTACTS=500
GOAL_CONTACTED=250
GOAL_SUPPORTERS=100

# ─── Admin Seed Account ──────────────────────────────────

# First admin account created on initial deploy (only if no users exist)
ADMIN_SEED_EMAIL=admin@thresholdvote.com
ADMIN_SEED_PASSWORD=changeme123

# ─── Infrastructure ──────────────────────────────────────

# Node environment (Railway sets this automatically)
NODE_ENV=production

# Port (Railway sets this automatically)
PORT=3000

# ─── Stripe (Events Subscriptions) ──────────────────────

# Stripe API keys (get from https://dashboard.stripe.com/apikeys)
STRIPE_SECRET_KEY=sk_test_...
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...

# Stripe webhook secret (get from https://dashboard.stripe.com/webhooks)
STRIPE_WEBHOOK_SECRET=whsec_...

# Stripe Price IDs for each plan (create in Stripe dashboard)
STRIPE_PRICE_GRASSROOTS=price_...
STRIPE_PRICE_GROWTH=price_...

# ─── Email (Resend) — Required ─────────────────────────

# Resend API key for transactional emails (2FA codes, reminders)
# Required: sign-in verification codes won't send without this
RESEND_API_KEY=re_...
RESEND_FROM_EMAIL=noreply@thresholdvote.com

# ─── SMS (Twilio) ─────────────────────────────────────

# Twilio credentials for SMS reminders and blasts
# Get from https://console.twilio.com/
TWILIO_ACCOUNT_SID=AC...
TWILIO_AUTH_TOKEN=...
TWILIO_MESSAGING_SERVICE_SID=MG...

# ─── Cron / Reminders ──────────────────────────────────

# Secret token for cron endpoints (generate with: openssl rand -hex 32)
CRON_SECRET=change-me-to-a-random-string

# Public app URL (used in email links)
APP_URL=https://thresholdvote.com

# ─── VAN / EveryAction API ───────────────────────────────

# Application name from your NGP VAN developer registration
# Shared across all campaigns — per-campaign API keys are stored in the admin UI
# VAN_APPLICATION_NAME=YourAppName

# ─── Infrastructure ──────────────────────────────────────

# Data directory for voter files (Railway volume mount point)
DATA_DIR=/app/data

# Voter file name (looks in DATA_DIR for this file)
# Default search order: voters-geo.json, voters.json, mecklenburg-voters-geo.json
VOTER_FILE=
